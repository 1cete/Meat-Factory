import random
import os
import time

class Zaidejas:
    def __init__(self, vardas="Zaidejas"):
        self.vardas = vardas
        self.pinigai = 50
        self.mesa = 50  # Pradinis mėsos kiekis (kg)
        self.pakuotes = 10  # Pakuočių pradinis kiekis
        self.uzsakymai = []

class Uzsakymas:
    def __init__(self):
        self.kiekis = random.randint(5, 15)  # Užsakymo kiekis
        self.pelnas = self.kiekis * 10       # Pelno dydis

def parodyti_busena(zaidejas):
    print(f"\n{zaidejas.vardas} būsena:")
    print(f"Pinigai: {zaidejas.pinigai}€")
    print(f"Mėsa: {zaidejas.mesa} kg, Pakuotės: {zaidejas.pakuotes}")
    if zaidejas.uzsakymai:
        print("Užsakymai:")
        for i, u in enumerate(zaidejas.uzsakymai):  # Duoda indeksa ir verte
            print(f"{i+1}. Kiekis: {u.kiekis}, Pelnas: {u.pelnas}€")
    else:
        print("Šiuo metu nėra užsakymų.")

def rodyti_pavadinima():
    pavadinimas = "UAB ŠLAPIANKA"
    plotis = 80  # Terminalo plotis simboliais
    aukstis = 20  # Terminalo aukštis simboliais
    pavadinimo_ilgis = len(pavadinimas)

    t = 0  # Laiko kintamasis animacijai
    while True:
        os.system('clear')  # Išvalo terminalą

        # Skaičiuojame teksto poziciją vertikaliai ir horizontaliai
        vertikali_padetis = int((math.sin(t) + 1) * (aukstis // 4))  # Tarp 0 ir aukstis/2
        horizontali_padetis = int((t * 2) % (plotis + pavadinimo_ilgis)) - pavadinimo_ilgis

        # Atspausdiname tuščias eilutes iki vertikalios pozicijos
        print("\n" * vertikali_padetis, end="")

        # Atspausdiname pavadinimą horizontalioje pozicijoje
        if horizontali_padetis >= 0:
            print(" " * horizontali_padetis + pavadinimas)

        time.sleep(0.1)  # Pauzė tarp kadrų
        t += 0.2  # Judame laike į priekį

        # Tikriname, ar paspaustas Enter mygtukas
        try:
            import sys, select
            if select.select([sys.stdin], [], [], 0)[0]:
                break
        except KeyboardInterrupt:
            break  # Jei paspaustas Ctrl+C, išeiname iš animacijos

def gaminti(zaidejas):
    if zaidejas.mesa >= 10 and zaidejas.pakuotes >= 1:
        zaidejas.mesa -= 10
        zaidejas.pakuotes -= 1
        print("Mašina įjungta...")
        time.sleep(2)
        print("Gaminti...")

        print("Pagamintas mėsos produktas!")
        zaidejas.pinigai += 20  # Už mėsos produktą uždirbama pinigų
    else:
        print("Nepakanka resursų gamybai!")

def pirkti_resursus(zaidejas):
    print("\nKą norite pirkti?")
    print("1. Mėsa iš ūkininko Antano (10 kg už 10€)")
    print("2. Pakuotės (1 vnt už 5€)")
    pasirinkimas = int(input("Pasirinkite: "))

    if pasirinkimas == 1:
        if zaidejas.pinigai >= 10:
            zaidejas.pinigai -= 10
            zaidejas.mesa += 10
            print("Nupirkote 10 kg mėsos iš ūkininko Antano!")
            print("\nAntanas: \n   Perduok linkėjimus šeimai!\n")
        else:
            print("Nepakanka pinigų mėsai.")
    elif pasirinkimas == 2:
        if zaidejas.pinigai >= 5:
            zaidejas.pinigai -= 5
            zaidejas.pakuotes += 1
            print("Nupirkote 1 pakuotę!")
        else:
            print("Nepakanka pinigų pakuotei.")
    else:
        print("Neteisingas pasirinkimas.")

def zaisti():
    rodyti_pavadinima()
    zaidejas = Zaidejas()
    while True:
        # Rodome būseną ir meniu tik vieną kartą per ciklą
        os.system('clear')  # Išvalo terminalą
        parodyti_busena(zaidejas)

        print("\nPasirinkite veiksmą:")
        print("1. Gaminti mėsos produktą")
        print("2. Parduotuves")
        print("3. Naujas užsakymas")
        print("4. Vykdyti užsakymą")
        print("0. Baigti žaidimą")

        try:
            pasirinkimas = input("Pasirinkite: ").strip()
            if pasirinkimas == "":
                print("Įveskite skaičių nuo 0 iki 4.")
                continue
            pasirinkimas = int(pasirinkimas)

            if pasirinkimas == 1:
                gaminti(zaidejas)
            elif pasirinkimas == 2:
                pirkti_resursus(zaidejas)
            elif pasirinkimas == 3:
                naujas_uzsakymas(zaidejas)
            elif pasirinkimas == 4:
                vykdyti_uzsakymą(zaidejas)
            elif pasirinkimas == 0:
                print("Ačiū už žaidimą!")
                break
            else:
                print("Neteisingas pasirinkimas.")
        except ValueError:
            print("Įveskite teisingą pasirinkimą!")

zaisti()
